---
title: 'タイムスタンプ入門：Epoch秒/ミリ秒とJST/UTCを5分で理解'
description: 'Epoch秒/ミリ秒の違い、UTCとJSTの換算、ログ解析とスケジューリングでの実務ポイントを速習。'
date: '2025-10-23'
tags:
  - 'tool:timestamp'
  - '入門'
  - 'time'
audience: 'SE/DevOps/フロントエンド'
---

> 関連ツール: /tools/timestamp

## 1. 導入

- Epoch（Unix time）は、OS/DB/ログ/API で最も一般的な「機械が扱う時刻表現」。
- 秒/ミリ秒の取り違えによる“1000 倍ズレ”は現場で頻出。監視や分析、外部 API 連携で事故につながる。

## 2. 定義と基本

- 起点は 1970-01-01T00:00:00Z（UTC）。ここからの経過時間を数値で表す。
- 秒とミリ秒の違い（例）: 1700000000（秒）, 1700000000000（ミリ秒）。桁数が主な識別材料。
- UTC は協定世界時。JST は UTC+9。日本は DST（夏時間）非採用。

## 3. 仕組み・換算

- 代表往復例：
  - Epoch → 日時（UTC/JST）: 数値を Date に変換し、TZ ごとに整形。
  - 日時 → Epoch: 入力日時を UTC 基準でエポック秒/ミリ秒に直す。
- 秒/ミリ秒の見分け方：10 桁は秒、13 桁はミリ秒。曖昧ならトグルで確認。
- DST 注意：海外 TZ では夏時間によりオフセットが変動する（日本は非対応だが海外ログでは要注意）。

## 4. よくあるつまずき

- “JST で朝 9 時”のつもりが UTC で解釈され、実運用で 9 時間ズレる。
- ミリ秒値を秒として扱い、1970 年付近（エポック起点）に見えてしまう。
- ローカルタイムのまま保存して比較・集計で破綻（UTC で正規化が安全）。

## 5. 実例：ログとスケジューラ

- 監視・分析：APM やログ集計で時刻を UTC に統一し、ダッシュボードの表示 TZ だけ切り替えると混乱が減る。
- スケジューリング：Cron やジョブの基準 TZ を明示。UTC 基準で管理し、ユーザ表示のみ JST にする設計が堅実。

## 6. セキュリティ・運用

- 信頼できる時刻源：NTP 同期やクラウドの clock drift（微小なズレ）に注意。複数ソースで監視。
- 署名や有効期限（exp）の検証は UTC 基準で。分散システムでは UTC 統一がトラブル回避に有効。

## 7. 手を動かす：関連ツール /tools/timestamp の紹介

- 1. Epoch → 日時（JST/UTC） 2) 日時 → Epoch を双方向変換。
- 秒/ミリ秒の切替（自動/手動）、現在時刻のクイック挿入、コピーに対応。
- ログ解析・ジョブ設計の前に、まず値の単位と TZ を確かめる習慣を。

## 8. 3 分クイズ

1. 1700000000 は秒かミリ秒か？ 1700000000000 は？
2. UTC 2024-01-01T00:00 は JST でいつ？（答え：JST 2024-01-01 09:00）
3. 1970 年付近に見える時刻は、単位取り違えの可能性が高い。どう切り分ける？

## 9. 関連リンク

- IANA Time Zone（TZ データベース）
- NTP の概要（時刻同期）
- JavaScript Date/Intl の基礎

> 関連ツール: /tools/timestamp
