---
title: 'cronのDOM×DOWはORかANDか？JST運用の落とし穴'
description: 'crontabのDOM×DOW（AND/OR）仕様とJST運用の注意点、失敗例・対策を解説。'
date: '2025-09-16'
tags:
  - cron
  - JST
  - AND
  - OR
  - 運用
  - 仕様
---

crontab の「日（DOM）× 曜日（DOW）」指定は、実は実装やサービスごとに「OR」か「AND」かで挙動が異なります。JST 運用では特に注意が必要です。

# 背景

多くのエンジニアが「\* \* \* \* \*」のような cron 式を使いますが、DOM と DOW を同時指定した場合の動作は一筋縄ではいきません。

# OR と AND

- OR: DOM または DOW どちらかが一致すれば実行
- AND: DOM も DOW も両方一致したときだけ実行

# '\*'の扱い

例えば `0 0 1 * 0` のような式で、DOM=1, DOW=0（=日曜）を指定した場合、OR なら「毎月 1 日と毎週日曜」、AND なら「1 日が日曜のときのみ」実行されます。

# 具体例

```cron
0 0 1 * 0  # 毎月1日と毎週日曜（OR）/ 1日が日曜のみ（AND）
```

# 失敗例と対策

JST 運用で「1 日が日曜以外も動いてしまった」などの事故が多発します。必ず仕様を確認し、[Cron JST ツール](/tools/cron-jst)で検証しましょう。

# まとめ

cron の DOM×DOW 仕様は要注意。JST 運用では特に検証を！
